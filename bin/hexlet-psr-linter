#!/usr/bin/env php
<?php
// First row explanation:
// "Execute using PHP by looking up the path
// to the PHP interpreter automatically via env"
// Example1: ./bin/hexlet-psr-linter file.php
// Example2: hexlet-psr-linter file.php

require_once __DIR__ . '/../vendor/autoload.php';

$cmd = new Commando\Command();
//$cmd->doNotTrapErrors();
$cmd->option()
    ->require()
    ->describedAs('A file to lint.')
    ->expectsFile();
if (empty(array_slice($argv, 1))) {
     $cmd->printHelp();
}
$args = $cmd->getArgumentValues();
$linter = new HexletPsrLinter\Linter($args[0]);
echo $linter->getMessage();
